import{q as P,l as A,r as F,s as G,t as H,u as W,w as q,x as Q,m as R}from"./element-plus.e290ba2a.js";import{g as X,a as K}from"./index.788e6f03.js";import{g as Z}from"./path.a462f43f.js";import{b as aa}from"./vue-router.55dd1a6d.js";import{u as ea}from"./user.207c9424.js";import{u as ta}from"./vue-i18n.2d84f32f.js";import{_ as sa}from"./interceptors.90732d07.js";import{d as oa}from"./dayjs.8aab90e5.js";import{d as c,D as la,c as v,a,X as l,Q as n,u as s,a4 as na,o as u,W as e,F as f,a7 as pa,V as d,P as C,U as g}from"./@vue.4c12bbe2.js";import"./lodash-es.032e1c7e.js";import"./@vueuse.1d2bc008.js";import"./@element-plus.b6c25ca8.js";import"./@popperjs.36402333.js";import"./@ctrl.82a509e0.js";import"./async-validator.fb49d0f5.js";import"./memoize-one.4ee5c96d.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.1c4ac15a.js";import"./@floating-ui.cba15af0.js";import"./axios.095b39ac.js";import"./index.bf5881c5.js";import"./index.ce62f2bc.js";import"./pinia.a87941f6.js";import"./vue-demi.b3a9cad9.js";import"./vue-echarts.df751a34.js";import"./resize-detector.4e96b72b.js";import"./echarts.3b66cafe.js";import"./zrender.d16352cb.js";import"./tslib.f5899810.js";import"./js-cookie.31874410.js";import"./nprogress.6825e71e.js";import"./yup.55b5a8e6.js";import"./nanoclone.7d3cb5fe.js";import"./lodash.46ddd8ff.js";import"./property-expr.48609aa3.js";import"./toposort.ef497e49.js";import"./@intlify.7ce2fd17.js";import"./user.8525e86f.js";import"./qs.d8de42ab.js";import"./side-channel.883eaff8.js";import"./get-intrinsic.89e72507.js";import"./has-symbols.caae0f97.js";import"./function-bind.cb3858f2.js";import"./has.c1051c46.js";import"./call-bind.b701f999.js";import"./object-inspect.3f4be82e.js";const da={class:"relative w-full h-full"},ia={class:"m-[20px] p-[8px] absolute",style:{height:"calc(100% - 30px)","background-color":"#1a1d1f",width:"calc(100% - 30px)","border-radius":"10px"}},ra={class:"flex justify-between pt-[10px]"},ma={class:"left"},ua={class:"deviceName"},ca={class:"deviceName"},_a={class:"deviceName"},ha={class:"deviceName"},va={class:"deviceName"},ga={class:"deviceName"},ba={class:"deviceName"},fa={class:"deviceName"},xa={class:"charts flex"},ya={class:"right"},wa={class:"map-container"},ka={class:"map-name"},Na={class:"map-name"},Sa={class:"map-name"},Ca={class:"map-name"},La={class:"map-btns"},Va={class:"map-name text-xl mb-[10px]"},Ma={class:"map-name text-xl mb-[10px]"},Ta={class:"map-name text-xl mb-[10px]"},Da={class:"flex items-center mb-[10px]"},Ea={class:"mr-[10px] text-xl"},Ba={class:"text-xl mb-[10px]"},Ua={class:"text-xl mt-[10px]"},za={__name:"index",setup(Ia){const{t}=ta(),D=ea(),E=aa(),B={backgroundColor:"",tooltip:{formatter:"{b} : {c}"},series:[{name:"speed",type:"gauge",progress:{show:!0},detail:{valueAnimation:!0,formatter:"{value}"},data:[{value:50,name:t("page.dashboard.lineSpeed")+"(cm/s)"}]}]},U={backgroundColor:"",color:["#91cc75"],tooltip:{formatter:"{b} : {c}"},series:[{name:"speed",type:"gauge",splitNumber:6,max:.6,progress:{show:!0},detail:{valueAnimation:!0,formatter:"{value}"},data:[{value:.2,name:t("page.dashboard.angularSpeed")+"(rad/s)"}]}]},_=c({deviceName:"\u6D4B\u8BD5\u8BBE\u59071",mapStatus:"\u65E0",battery:"80%",storage:"30G/100G",sysTime:"2024-10-29 15:30",firmware:"v0.0.1",system:"v0.0.1"}),y=c(),z=(i,p)=>{},b=c([]),w=c(!1),m=c({}),L=c(!1),V=c(!1),I=i=>{m.value={...i,autoUpdate:!1,mapDetailList:[],pathList:[]},w.value=!0,L.value=!0,V.value=!0,K({id:i.id}).then(p=>{m.value.mapDetailList=p.data}).finally(()=>{L.value=!1}),Z({id:i.id}).then(p=>{m.value.pathList=JSON.parse(p.data)}).finally(()=>{V.value=!1})},k=c(),N=(i,p)=>{k.value=p.id,E.push({name:i,query:{...p}})};return(()=>{X().then(i=>{i.code===200&&i.data.length>0&&(b.value=i.data,y.value=i.data[0].id,D.mapList=b.value)})})(),la(()=>{k.value&&window.sessionStorage.setItem("currentMap",JSON.stringify(k.value)),b.value&&window.sessionStorage.setItem("mapList",JSON.stringify(b.value))}),(i,p)=>{const x=P,M=na("VChart"),r=A,O=F,j=G,Y=H,$=W,h=q,T=Q,J=R;return u(),v("div",da,[a("div",ia,[l(Y,null,{default:n(()=>[a("div",ra,[a("div",ma,[a("div",ua,[a("span",null,e(s(t)("page.dashboard.deviceName")),1),a("span",null,e(_.value.deviceName),1)]),a("div",ca,[a("span",null,e(s(t)("page.dashboard.status")),1),a("span",null,e(_.value.mapStatus),1)]),l(x),a("div",_a,[a("span",null,e(s(t)("page.dashboard.status")),1),a("span",null,e(_.value.battery),1)]),a("div",ha,[a("span",null,e(s(t)("page.dashboard.storage")),1),a("span",null,e(_.value.storage),1)]),a("div",va,[a("span",null,e(s(t)("page.dashboard.sysTime")),1),a("span",null,e(_.value.sysTime),1)]),a("div",ga,[a("span",null,e(s(t)("page.dashboard.firmware")),1),a("span",null,e(_.value.firmware),1)]),a("div",ba,[a("span",null,e(s(t)("page.dashboard.sysversion")),1),a("span",null,e(_.value.system),1)]),l(x),a("div",fa,[a("span",null,e(s(t)("page.dashboard.pose")),1)]),a("div",xa,[l(M,{option:B,autoresize:!0,class:"chart",theme:"dark"}),l(M,{option:U,autoresize:!0,class:"chart",theme:"dark"})])]),a("div",ya,[l(j,{modelValue:y.value,"onUpdate:modelValue":p[0]||(p[0]=o=>y.value=o),class:"demo-tabs",onTabClick:z,type:"border-card"},{default:n(()=>[(u(!0),v(f,null,pa(b.value,(o,ja)=>(u(),v(f,{key:o.id},[o.id?(u(),C(O,{key:0,label:o.name,name:o.id},{default:n(()=>[a("div",wa,[a("div",ka,[a("span",null,e(s(t)("page.dashboard.mapName")),1),a("span",null,[o.type!==0?(u(),v(f,{key:0},[d(e(o.name),1)],64)):g("",!0)])]),a("div",Na,[a("span",null,e(s(t)("page.dashboard.mapTime")),1),a("span",null,[o.type!==0?(u(),v(f,{key:0},[d(e(s(oa)(o.create_time).format("YYYY-MM-DD HH:mm:ss")),1)],64)):g("",!0)])]),a("div",Sa,[a("span",null,e(s(t)("page.dashboard.mapSize")),1),a("span",null,[o.type!==0?(u(),v(f,{key:0},[d(e(o.MB)+"MB ",1)],64)):g("",!0)])]),a("div",Ca,[a("span",null,e(s(t)("page.dashboard.mapStatus")),1),a("span",null,e([0,1,2].includes(o.type)?s(t)("page.dashboard.mapStatus."+o.type):""),1)]),a("div",La,[l(r,{type:"primary",onClick:S=>N("newmap",{id:o.id})},{default:n(()=>[d(e(s(t)("router.newMap")),1)]),_:2},1032,["onClick"]),o.type===1||o.type===2?(u(),C(r,{key:0,type:"primary",onClick:S=>N("pathplan",{id:o.id})},{default:n(()=>[d(e(s(t)("router.pathplan")),1)]),_:2},1032,["onClick"])):g("",!0),o.type===2?(u(),C(r,{key:1,type:"primary",onClick:S=>N("navigation",{id:o.id})},{default:n(()=>[d(e(s(t)("router.navigation")),1)]),_:2},1032,["onClick"])):g("",!0),l(r,{type:"warning",onClick:S=>I(o),icon:"Setting"},{default:n(()=>[d(e(s(t)("page.dashboard.mapManage")),1)]),_:2},1032,["onClick"])])])]),_:2},1032,["label","name"])):g("",!0)],64))),128))]),_:1},8,["modelValue"])])])]),_:1})]),l(J,{modelValue:w.value,"onUpdate:modelValue":p[2]||(p[2]=o=>w.value=o),title:s(t)("page.dashboard.mapManage"),width:800,top:"5vh"},{default:n(()=>[a("div",Va,[a("span",null,e(s(t)("page.dashboard.mapName"))+":",1),a("span",null,e(m.value.name),1)]),a("div",Ma,[a("span",null,e(s(t)("page.dashboard.mapTime"))+":",1),a("span",null,e(m.value.create_time),1)]),a("div",Ta,[a("span",null,e(s(t)("page.dashboard.mapStatus"))+":",1),a("span",null,e(s(t)("page.dashboard.mapStatus.0")),1)]),a("div",Da,[a("span",Ea,e(s(t)("page.dashboard.autoNav")),1),l($,{modelValue:m.value.autoUpdate,"onUpdate:modelValue":p[1]||(p[1]=o=>m.value.autoUpdate=o),size:"large"},null,8,["modelValue"])]),l(r,{type:"primary"},{default:n(()=>[d(e(s(t)("page.dashboard.mapBackup")),1)]),_:1}),l(r,{type:"success"},{default:n(()=>[d(e(s(t)("page.dashboard.download.rosbag")),1)]),_:1}),l(x),a("div",Ba,[a("span",null,e(s(t)("page.dashboard.mapType.dense")),1)]),l(T,{data:m.value.mapDetailList,border:"",height:"150px"},{default:n(()=>[l(h,{type:"index",width:"150",label:s(t)("page.dashboard.index")},null,8,["label"]),l(h,{property:"name",label:s(t)("page.dashboard.mapName")},null,8,["label"]),l(h,{label:s(t)("page.manager.common.action")},{default:n(o=>[l(r,{type:"success"},{default:n(()=>[d(e(s(t)("page.dashboard.download")),1)]),_:1}),l(r,{type:"warning"},{default:n(()=>[d(e(s(t)("page.dashboard.backup")),1)]),_:1})]),_:1},8,["label"])]),_:1},8,["data"]),l(x),a("div",Ua,[a("span",null,e(s(t)("page.dashboard.path")),1),l(r,{type:"primary",class:"ml-[20px]"},{default:n(()=>[d(e(s(t)("page.dashboard.restore")),1)]),_:1})]),l(T,{data:m.value.pathList,border:"",class:"mt-[10px]",height:"100px"},{default:n(()=>[l(h,{type:"index",width:"150",label:s(t)("page.dashboard.index")},null,8,["label"]),l(h,{property:"name",label:s(t)("page.dashboard.mapName")},null,8,["label"]),l(h,{label:s(t)("page.manager.common.action")},{default:n(o=>[l(r,{type:"success"},{default:n(()=>[d(e(s(t)("page.dashboard.download")),1)]),_:1}),l(r,{type:"warning"},{default:n(()=>[d(e(s(t)("page.dashboard.backup")),1)]),_:1})]),_:1},8,["label"])]),_:1},8,["data"])]),_:1},8,["modelValue","title"])])}}};var De=sa(za,[["__scopeId","data-v-3f31376c"]]);export{De as default};
