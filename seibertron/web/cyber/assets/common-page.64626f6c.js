var Q=Object.defineProperty;var W=(r,e,t)=>e in r?Q(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var S=(r,e,t)=>(W(r,typeof e!="symbol"?e+"":e,t),t);import{a as X,b as O,c as ee,d as te,e as ne,f as oe,g as re,h as se,k as ae,l as le,m as ie,n as de,o as ue}from"./element-plus.e290ba2a.js";import{o as a,c as h,a as _,d as $,I as M,U as N,a4 as I,a7 as D,P as f,Q as s,W as w,u as d,X as n,F as P,w as ce,j as _e,R as T,S as A,a5 as me,V as B,J as pe,az as fe,Y as U,T as ve}from"./@vue.4c12bbe2.js";import{u as Z,b as he}from"./vue-router.55dd1a6d.js";import{C as Y,r as j,g as G,a as ge}from"./index.ce62f2bc.js";import{n as K}from"./@vueuse.1d2bc008.js";import{u as q}from"./vue-i18n.2d84f32f.js";import{u as we}from"./web.20b80d51.js";import{_ as C,u as V}from"./interceptors.90732d07.js";import{R as xe}from"./@element-plus.b6c25ca8.js";import{T as be}from"./index.a40af188.js";import{u as ye}from"./user.8525e86f.js";import"./lodash-es.032e1c7e.js";import"./@popperjs.36402333.js";import"./@ctrl.82a509e0.js";import"./dayjs.8aab90e5.js";import"./axios.095b39ac.js";import"./async-validator.fb49d0f5.js";import"./memoize-one.4ee5c96d.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.1c4ac15a.js";import"./@floating-ui.cba15af0.js";import"./pinia.a87941f6.js";import"./vue-demi.b3a9cad9.js";import"./vue-echarts.df751a34.js";import"./resize-detector.4e96b72b.js";import"./echarts.3b66cafe.js";import"./zrender.d16352cb.js";import"./tslib.f5899810.js";import"./js-cookie.31874410.js";import"./nprogress.6825e71e.js";import"./yup.55b5a8e6.js";import"./nanoclone.7d3cb5fe.js";import"./lodash.46ddd8ff.js";import"./property-expr.48609aa3.js";import"./toposort.ef497e49.js";import"./@intlify.7ce2fd17.js";import"./qs.d8de42ab.js";import"./side-channel.883eaff8.js";import"./get-intrinsic.89e72507.js";import"./has-symbols.caae0f97.js";import"./function-bind.cb3858f2.js";import"./has.c1051c46.js";import"./call-bind.b701f999.js";import"./object-inspect.3f4be82e.js";import"./index.bf5881c5.js";const $e={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ke=_("path",{fill:"currentColor",d:"m12 21l3.6-4.8c-1-.75-2.25-1.2-3.6-1.2s-2.6.45-3.6 1.2L12 21m0-18C7.95 3 4.21 4.34 1.2 6.6L3 9c2.5-1.88 5.62-3 9-3s6.5 1.12 9 3l1.8-2.4C19.79 4.34 16.05 3 12 3m0 6c-2.7 0-5.19.89-7.2 2.4l1.8 2.4C8.1 12.67 9.97 12 12 12c2.03 0 3.9.67 5.4 1.8l1.8-2.4C17.19 9.89 14.7 9 12 9Z"},null,-1),Me=[ke];function Ce(r,e){return a(),h("svg",$e,Me)}var Ve={name:"mdi-wifi",render:Ce};const Pe={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ee=_("path",{fill:"currentColor",d:"M16 9H8V6h8m.67-2H15V2H9v2H7.33A1.33 1.33 0 0 0 6 5.33v15.34C6 21.4 6.6 22 7.33 22h9.34A1.33 1.33 0 0 0 18 20.67V5.33C18 4.6 17.4 4 16.67 4Z"},null,-1),Se=[Ee];function Be(r,e){return a(),h("svg",Pe,Se)}var Ie={name:"mdi-battery80",render:Be};class Re{constructor(){S(this,"menus",$([]));S(this,"history",K(Y.HISTORY_MENU,[]));S(this,"close",K(Y.MENU_CLOSE_STATE,!1));this.menus.value=this.getMenuByRoute()}toggleState(){this.close.value=!this.close.value}getNestedMenuByRoute(e,t,l=""){var i;(i=e.children)==null||i.forEach(u=>{l!==""?l=`${l}-${u.title}`:l=`${e.title}-${u.title}`,t.set(u.route,l),u.children?this.getNestedMenuByRoute(u,t,l):l=""})}linkPage(e){this.isExternalLink(e)?window.open(e.path):j.push({name:e.route})}isExternalLink(e){return!!e.path}getCurrentMenu(e){const t=new Map;return this.menus.value.forEach(l=>{this.getNestedMenuByRoute(l,t)}),t.get(e.name)}getMenuByRoute(){return j.getRoutes().filter(e=>e.children.length&&e.meta.menu).map(e=>{var l;const t={...(l=e.meta)==null?void 0:l.menu};return t.children=e.children.filter(i=>{var u;return(u=i.meta)==null?void 0:u.menu}).map(i=>{var u;return{...(u=i.meta)==null?void 0:u.menu,route:i.name}}),t}).filter(e=>{var t;return(t=e.children)==null?void 0:t.length})}}var y=new Re;const He=M({__name:"index",setup(r){return(e,t)=>N("",!0)}});const Fe={class:"text-base font-semibold"},ze={class:"font-semibold text-base"},Te={class:"ml-2 text-base"},Ae=M({__name:"MenuItem",props:{subMenu:{default:()=>[]},activeKey:{default:""}},setup(r){const e=r,{t}=q();Z();const l=(o,v)=>e.activeKey===""?o.title+"-"+v.title:e.activeKey+"-"+v.title,i=$();function u(o=[],v){o||(o=[]);const g=o.filter(c=>c.meta&&c.meta.hidden?!1:(i.value=c,!0));return g.length===1?!0:g.length===0?(i.value=v,!0):!1}function p(o){const{sm:v,md:g}=we();(v.value||g.value)&&y.toggleState(),y.linkPage(o)}return G(),(o,v)=>{const g=X,c=I("Setting"),R=I("Guide"),H=O,F=I("menu-item",!0),E=ee;return a(!0),h(P,null,D(e.subMenu,(m,L)=>(a(),h("div",null,[u(m.children,m)?(a(),f(g,{key:0,onClick:x=>p(m.children[0]),index:m.children[0].title},{default:s(()=>[_("span",Fe,w(d(t)(m.children[0].title)),1)]),_:2},1032,["onClick","index"])):(a(),f(E,{key:m.title,index:m.title},{title:s(()=>[n(H,null,{default:s(()=>[m.icon==="Setting"?(a(),f(c,{key:0})):m.icon==="Guide"?(a(),f(R,{key:1})):N("",!0)]),_:2},1024),_("span",ze,w(d(t)(m.title)),1)]),default:s(()=>[(a(!0),h(P,null,D(m.children,(x,k)=>(a(),h(P,null,[x.children?(a(),f(F,{key:"sub_ "+k,"active-key":m.title+"-"+x.title,"sub-menu":m.children},null,8,["active-key","sub-menu"])):(a(),f(g,{key:k,index:l(m,x),onClick:z=>p(x)},{default:s(()=>[_("span",Te,w(d(t)(x==null?void 0:x.title)),1)]),_:2},1032,["index","onClick"]))],64))),256))]),_:2},1032,["index"]))]))),256)}}});var Ne=C(Ae,[["__scopeId","data-v-5fb4520c"]]);const Le={class:"menu"},De={class:"flex align-center items-center absolute right-2"},Ue=M({__name:"index",setup(r){const e=Z(),t=$("");return ce(()=>{t.value=y.getCurrentMenu(e)}),_e(()=>y.close.value),(l,i)=>(a(),h("div",Le,[n(d(te),{"default-active":t.value,"background-color":"#292d30","text-color":"#B4B8C1","active-text-color":"#fff","unique-opened":!1,mode:"horizontal"},{default:s(()=>[n(Ne,{"sub-menu":d(y).menus.value},null,8,["sub-menu"])]),_:1},8,["default-active"]),(a(),f(me,{to:"body"},[T(_("div",{class:"bg block md:hidden",onClick:i[0]||(i[0]=(...u)=>d(y).toggleState&&d(y).toggleState(...u))},null,512),[[A,!d(y).close.value]])])),_("div",De,[n(He)])]))}});var Ye=C(Ue,[["__scopeId","data-v-7f57091d"]]);const je={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ke=_("path",{fill:"currentColor",d:"M14 14h5v2h-3v3h-2v-5m-9 0h5v5H8v-3H5v-2m3-9h2v5H5V8h3V5m11 3v2h-5V5h2v3h3Z"},null,-1),Oe=[Ke];function Ze(r,e){return a(),h("svg",je,Oe)}var Ge={name:"mdi-fullscreen-exit",render:Ze};const qe={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Je=_("path",{fill:"currentColor",d:"M5 5h5v2H7v3H5V5m9 0h5v5h-2V7h-3V5m3 9h2v5h-5v-2h3v-3m-7 3v2H5v-5h2v3h3Z"},null,-1),Qe=[Je];function We(r,e){return a(),h("svg",qe,Qe)}var Xe={name:"mdi-fullscreen",render:We};function et(){const r=$(!1),e=()=>{r.value?document.exitFullscreen():document.documentElement.requestFullscreen(),r.value=!r.value};return document.addEventListener("fullscreenchange",()=>{r.value=document.fullscreenElement!==null}),{isFullScreen:r,fullScreen:e}}const tt=M({__name:"index",setup(r){const{isFullScreen:e,fullScreen:t}=et();return(l,i)=>{const u=Xe,p=Ge;return a(),h(P,null,[T(n(u,{class:"fullscreen",style:{"font-size":"2em",color:"#909BBF"},onClick:i[0]||(i[0]=()=>d(t)())},null,512),[[A,!d(e)]]),T(n(p,{class:"fullscreen",style:{"font-size":"2em",color:"#909BBF"},onClick:i[1]||(i[1]=()=>d(t)())},null,512),[[A,d(e)]])],64)}}});var nt=C(tt,[["__scopeId","data-v-29b2a493"]]);const ot={class:"flex justify-center items-center"},rt={class:"flex items-center gap-2 justify-end h-full flex-1"},st={class:"text-lg"},at={class:"label"},lt={class:"label"},it={class:"label"},dt={class:"dialog-footer"},ut=M({__name:"index",setup(r){const{t:e}=q(),t=he();function l(){ge(()=>{t.replace("/login")})}const i=$(window.sessionStorage.getItem("username")),u=G(),p=$(!1),o=$({oldPassword:"",newPassword:"",newPasswordVerify:""}),v=()=>{if(o.value.oldPassword===o.value.newPassword){V("error",e("common.pwd.message.diffError"));return}else if(o.value.newPasswordVerify!==o.value.newPassword){V("error",e("common.pwd.message.confirmError"));return}ye({oldPassword:o.value.oldPassword,newPassword:o.value.newPassword}).then(g=>{if(g.code!==200){V("error",e("page.common.message.error"));return}V("success",e("page.common.message.success")),p.value=!1,l()}).catch(g=>{V("error",e("page.common.message.error"))})};return(g,c)=>{const R=Ie,H=Ve,F=O,E=ne,m=oe,L=re,x=se,k=ae,z=le,J=ie;return a(),h(P,null,[n(x,{class:"border-gray-200 border-solid flex justify-between header",style:{"text-align":"right","font-size":"12px"}},{default:s(()=>[_("div",ot,[n(R,{style:{"font-size":"24px","margin-left":"10px",transform:"rotate(90deg)"}}),n(H,{style:{"font-size":"24px","margin-left":"10px"}})]),n(Ye,{style:{width:"100%",height:"60px","margin-left":"280px"}}),_("div",rt,[n(be),n(nt),_("span",st,w(i.value),1),n(L,{trigger:"click"},{dropdown:s(()=>[d(u)!=null?(a(),f(E,{key:0,onClick:c[0]||(c[0]=b=>p.value=!0)},{default:s(()=>[B(w(d(e)("changePassword")),1)]),_:1})):N("",!0),n(m,null,{default:s(()=>[n(E,{onClick:l},{default:s(()=>[B(w(d(e)("logout")),1)]),_:1})]),_:1})]),default:s(()=>[n(F,{size:20,class:"ml-2 mt-[1px] cursor-pointer",style:{color:"#909BBF"}},{default:s(()=>[n(d(xe))]),_:1})]),_:1})])]),_:1}),n(J,{title:d(e)("changePassword"),modelValue:p.value,"onUpdate:modelValue":c[6]||(c[6]=b=>p.value=b)},{footer:s(()=>[_("span",dt,[n(z,{onClick:c[4]||(c[4]=b=>p.value=!1)},{default:s(()=>[B(w(d(e)("msg.universal.cancel")),1)]),_:1}),n(z,{type:"primary",onClick:c[5]||(c[5]=b=>v()),disabled:o.value.oldPassword==""||o.value.newPassword==""||o.value.newPasswordVerify==""},{default:s(()=>[B(w(d(e)("msg.universal.confirm")),1)]),_:1},8,["disabled"])])]),default:s(()=>[_("p",at,w(d(e)("header.pwd.oldPassword"))+":",1),n(k,{modelValue:o.value.oldPassword,"onUpdate:modelValue":c[1]||(c[1]=b=>o.value.oldPassword=b),modelModifiers:{trim:!0},type:"password"},null,8,["modelValue"]),_("p",lt,w(d(e)("header.pwd.newPassword"))+":",1),n(k,{modelValue:o.value.newPassword,"onUpdate:modelValue":c[2]||(c[2]=b=>o.value.newPassword=b),modelModifiers:{trim:!0},type:"password"},null,8,["modelValue"]),_("p",it,w(d(e)("header.pwd.verifyPassword"))+":",1),n(k,{modelValue:o.value.newPasswordVerify,"onUpdate:modelValue":c[3]||(c[3]=b=>o.value.newPasswordVerify=b),modelModifiers:{trim:!0},type:"password"},null,8,["modelValue"])]),_:1},8,["title","modelValue"])],64)}}});var ct=C(ut,[["__scopeId","data-v-1de8b275"]]);const _t={},mt={class:"h-full w-full"};function pt(r,e){return a(),h("div",mt,[pe(r.$slots,"default")])}var ft=C(_t,[["render",pt]]);const vt={},ht=["src"];function gt(r,e){const t=ft,l=I("router-view"),i=de;return a(),f(i,{class:"main"},{default:s(()=>[n(l,null,{default:s(({Component:u,route:p})=>{var o;return[(o=p.meta.menu)!=null&&o.iframe_link?(a(),f(fe,{key:0},[n(U,{appear:"",name:"el-fade-in-linear"},{default:s(()=>[n(t,null,{default:s(()=>{var v;return[_("iframe",{class:"w-full h-full",src:(v=p.meta.menu)==null?void 0:v.iframe_link,frameborder:"0"},null,8,ht)]}),_:2},1024)]),_:2},1024)],1024)):(a(),f(U,{key:1,appear:"",name:"el-fade-in-linear"},{default:s(()=>[n(t,null,{default:s(()=>[(a(),f(ve(u)))]),_:2},1024)]),_:2},1024))]}),_:1})]),_:1})}var wt=C(vt,[["render",gt],["__scopeId","data-v-2a656181"]]);const mn=M({__name:"common-page",setup(r){return(e,t)=>{const l=ue;return a(),f(l,{class:"h-full w-full",direction:"vertical"},{default:s(()=>[n(ct),n(l,null,{default:s(()=>[n(wt)]),_:1})]),_:1})}}});export{mn as default};
