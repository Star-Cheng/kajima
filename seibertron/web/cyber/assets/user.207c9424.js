import{h as a}from"./index.bf5881c5.js";import{c as n,d as i}from"./index.ce62f2bc.js";import{d as m}from"./pinia.a87941f6.js";import{c as s}from"./user.8525e86f.js";function u(t){return a.request({url:"/hms/auth/login",method:"POST",data:t})}const l=m("user",{state:()=>({info:{},mapList:[]}),getters:{name:t=>{var e;return(e=t.info)==null?void 0:e.name},role:t=>{var e;return(e=t.info)==null?void 0:e.role},getMapList:t=>t.mapList},actions:{login(t){return new Promise((e,r)=>{u({...t}).then(o=>{o.code==200?(n(o.data.token),e(o)):r(o.message)}).catch(o=>{r(o)})})},getUserInfo(){return new Promise((t,e)=>{s().then(r=>{r.code==200?(i(r.data.role),t(r.data)):e(r.message)}).catch(r=>{e(r)})})}}});export{l as u};
